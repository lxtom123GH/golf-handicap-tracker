<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golf Tracker Tests</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; max-width: 800px; margin: 2rem auto; padding: 0 1rem; background: #0f172a; color: #e2e8f0; }
        h1 { color: #f8fafc; border-bottom: 2px solid #334155; padding-bottom: 0.5rem; }
        .test-pass { background: rgba(34, 197, 94, 0.2); border-left: 4px solid #22c55e; padding: 1rem; margin-bottom: 0.5rem; border-radius: 4px;}
        .test-fail { background: rgba(239, 68, 68, 0.2); border-left: 4px solid #ef4444; padding: 1rem; margin-bottom: 0.5rem; border-radius: 4px;}
        .test-fail .error { color: #fca5a5; font-family: monospace; margin-top: 0.5rem; font-size: 0.9em; }
        #summary { font-size: 1.2rem; font-weight: bold; margin-bottom: 2rem; padding: 1rem; border-radius: 4px; background: #1e293b; }
    </style>
</head>
<body>
    <h1>Unit Test Results</h1>
    <div id="summary">Running tests...</div>
    <div id="results"></div>

    <script>
        let passed = 0;
        let failed = 0;
        
        // Expose a global method for the test harness to call
        window.addTestResult = function(isPass, description, errorMsg) {
            const resultsDiv = document.getElementById('results');
            const el = document.createElement('div');
            
            if (isPass) {
                passed++;
                el.className = 'test-pass';
                el.textContent = `✔ ${description}`;
            } else {
                failed++;
                el.className = 'test-fail';
                el.innerHTML = `✖ ${description}<div class="error">${errorMsg}</div>`;
            }
            
            resultsDiv.appendChild(el);
            
            // Update summary
            const summaryDiv = document.getElementById('summary');
            summaryDiv.textContent = `Results: ${passed} Passed, ${failed} Failed`;
            summaryDiv.style.color = failed > 0 ? '#ef4444' : '#22c55e';
        };
    </script>
    
    <!-- Load Tests as Module -->
    <script type="module" src="./tests.js"></script>
</body>
</html>
